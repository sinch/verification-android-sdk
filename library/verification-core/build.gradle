apply plugin: 'kotlinx-serialization'

ext {
    bintrayName = 'verification-core'
    bintrayVersion = versionNameFull
    pomName = "Verification Core"
    pomDescription = "Core module of verification SDK collecting common, base logic used by other packages."
}

apply from: '../publish-mavencentral.gradle'

android {

    defaultConfig {
        versionCode versionMajor * 10000 + versionMinor * 100 + versionPatch
        versionName versionNameFull
        buildConfigField 'String', 'SINCH_SDK_VERSION_NAME', "\"$versionNameFull\""
    }

    productFlavors {
        production {
            buildConfigField "String", "API_BASE_URL", "\"https://verification.api.sinch.com/\""
        }
        ftest1 {
            buildConfigField "String", "API_BASE_URL", "\"https://ft1-verification.api.sinchlab.com/\""
        }
        ftest2 {
            buildConfigField "String", "API_BASE_URL", "\"https://ft2-verification.api.sinchlab.com/\""
        }
    }

}

dependencies {
    api project(":library:metadata-collector")
    api project(":library:logging")
    api project(":library:utils")
    api "org.jetbrains.kotlinx:kotlinx-serialization-json:${Versions.xSerialization}"

    implementation "com.squareup.retrofit2:retrofit:${Versions.retrofit}"
    implementation "com.jakewharton.retrofit:retrofit2-kotlinx-serialization-converter:${Versions.kotlinXConverter}"
    implementation "com.squareup.okhttp3:okhttp:${Versions.okhttp}"
}
